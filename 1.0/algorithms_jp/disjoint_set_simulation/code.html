<pre>
# サイズNの森をベースとした互いに素な集合
class DisjointSet:
    parent  # 森を構成する各ノードの親を保持する配列
    rank    # rankを管理する配列

    init(): # 初期化
        for i &larr; 0 to N-1:
            parent[i] &larr; i
            rank[i] &larr; 0

    unite(x, y):
        root1 &larr; findSet(x)
        root2 &larr; findSet(y)
        link(root1, root2)

    findSet(x):
        if paret[x] &ne; x:
            parent[x] &larr; findSet(parent[x])
        return parent[x];

    link(x, y):
        if rank[x] > rank[y]:
            parent[y] &larr; x
        else:
            parent[x] &larr; y
            if rank[x] = rank[y]:
                rank[y]++
</pre>
